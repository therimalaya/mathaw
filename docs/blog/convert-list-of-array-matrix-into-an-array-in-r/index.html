<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Convert list of array/matrix into an array in R | Mathatistics</title>
  <meta name="description" content="Mathatistics includes tips, tutorials, techniques and some articles 
related to Epidemilogy, Survival Analysis, Multivariate Analysis, Statistics, 
Data Science, Programming, LaTeX and Web Development.
">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Convert list of array/matrix into an array in R" />
<meta property="og:description" content="Array and matrix/tables are data structures in R with same data types such as numeric, string or boolean. This examples show how to convert a list of vector/matrix/array into a multi-dimentional array so that it will become easier to aggregate them in particular dimension. We can also do this converting everything into data frame but this way can be useful sometimes and is worth learning.
Let us use a dataset already available in R and convert that into a list of tables or matrix." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/convert-list-of-array-matrix-into-an-array-in-r/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2022-03-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-03-18T00:00:00+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Convert list of array/matrix into an array in R"/>
<meta name="twitter:description" content="Array and matrix/tables are data structures in R with same data types such as numeric, string or boolean. This examples show how to convert a list of vector/matrix/array into a multi-dimentional array so that it will become easier to aggregate them in particular dimension. We can also do this converting everything into data frame but this way can be useful sometimes and is worth learning.
Let us use a dataset already available in R and convert that into a list of tables or matrix."/>

  
  
    
  
  
  


<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css' rel='stylesheet' type='text/css' />



  <link rel="stylesheet" href=/lib/bootstrap/css/bootstrap.min.css>
  <link rel="stylesheet" href="/css/style-white.css">
  <link rel="stylesheet" href="/css/ui-extra.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="/images/favicon.ico" />

  
  
  
  
</head>


<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/blog">Writings</a></li>
         
        <li><a href="http://mathaw.cloudrimalaya.com">Blog</a></li>
         
        <li><a href="/photography">Photography</a></li>
         
        <li><a href="/about">About me</a></li>
         
        <li><a href="/cv">Resume</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" /blog/how-anova-analyze-the-variance/">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="/writings/comming-soon/">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&text=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&is_video=false&description=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R&body=Check out this article: %2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-stumbleupon " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-digg " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&name=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R&description=Array%20and%20matrix%2ftables%20are%20data%20structures%20in%20R%20with%20same%20data%20types%20such%20as%20numeric%2c%20string%20or%20boolean.%20This%20examples%20show%20how%20to%20convert%20a%20list%20of%20vector%2fmatrix%2farray%20into%20a%20multi-dimentional%20array%20so%20that%20it%20will%20become%20easier%20to%20aggregate%20them%20in%20particular%20dimension.%20We%20can%20also%20do%20this%20converting%20everything%20into%20data%20frame%20but%20this%20way%20can%20be%20useful%20sometimes%20and%20is%20worth%20learning.%0aLet%20us%20use%20a%20dataset%20already%20available%20in%20R%20and%20convert%20that%20into%20a%20list%20of%20tables%20or%20matrix.">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&t=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      
    </div>
  </span>
</div>


    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
      <header>
        <h1 class="posttitle" itemprop="name headline">
          Convert list of array/matrix into an array in R
        </h1>
        <div class="meta">
          
          <div class="postdate">
            
            <time datetime="2022-03-18 00:00:00 &#43;0000 UTC" itemprop="datePublished">Mar 18, 2022</time>
            
          </div>
          
          <div class="article-category">
            <i class="fas fa-archive"></i>
            
            
            <a class="category-link" href="/%20/categories/r">R</a>
            
          </div>
          
          
          <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/%20/tags/rstat" rel="tag">rstat</a>
            
             ,  
            <a class="tag-link" href="/%20/tags/programming" rel="tag">programming</a>
            
          </div>
          
        </div>
      </header>

      <div class="content" itemprop="articleBody">
        


<p>Array and matrix/tables are data structures in R with same data types such as numeric, string or boolean. This examples show how to convert a list of vector/matrix/array into a multi-dimentional array so that it will become easier to aggregate them in particular dimension. We can also do this converting everything into data frame but this way can be useful sometimes and is worth learning.</p>
<p>Let us use a dataset already available in R and convert that into a list of tables or matrix. Here I will use <code>Titanic</code> dataset and convert it into a nested list of array using <code>purrr</code> package.</p>
<pre class="r"><code>library(purrr)
titanic_list &lt;- array_tree(Titanic, 4:3)
str(titanic_list)</code></pre>
<pre><code>List of 2
 $ No :List of 2
  ..$ Child: num [1:4, 1:2] 0 0 35 0 0 0 17 0
  .. ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. .. ..$ Class: chr [1:4] &quot;1st&quot; &quot;2nd&quot; &quot;3rd&quot; &quot;Crew&quot;
  .. .. ..$ Sex  : chr [1:2] &quot;Male&quot; &quot;Female&quot;
  ..$ Adult: num [1:4, 1:2] 118 154 387 670 4 13 89 3
  .. ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. .. ..$ Class: chr [1:4] &quot;1st&quot; &quot;2nd&quot; &quot;3rd&quot; &quot;Crew&quot;
  .. .. ..$ Sex  : chr [1:2] &quot;Male&quot; &quot;Female&quot;
 $ Yes:List of 2
  ..$ Child: num [1:4, 1:2] 5 11 13 0 1 13 14 0
  .. ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. .. ..$ Class: chr [1:4] &quot;1st&quot; &quot;2nd&quot; &quot;3rd&quot; &quot;Crew&quot;
  .. .. ..$ Sex  : chr [1:2] &quot;Male&quot; &quot;Female&quot;
  ..$ Adult: num [1:4, 1:2] 57 14 75 192 140 80 76 20
  .. ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. .. ..$ Class: chr [1:4] &quot;1st&quot; &quot;2nd&quot; &quot;3rd&quot; &quot;Crew&quot;
  .. .. ..$ Sex  : chr [1:2] &quot;Male&quot; &quot;Female&quot;</code></pre>
<p>Following function will convert this nested array into a multi-dimensional array.</p>
<pre class="r"><code>list2array &lt;- function(list, dnames.name = NULL) {
  l2a &lt;- function(l) {
    do.call(abind::abind, append(l, list(rev.along = 0)))
  }
  while (is.list(list[[1]])) {
    list &lt;- map(list, l2a)
  }
  out &lt;- l2a(list)
  if (!is.null(dnames.name)) names(dimnames(out)) &lt;- dnames.name
  return(out)
}</code></pre>
<p>Now, testing the function we just created.</p>
<pre class="r"><code>NewTitanic &lt;- list2array(titanic_list, dnames.name = names(dimnames(Titanic)))
str(NewTitanic)</code></pre>
<pre><code> num [1:4, 1:2, 1:2, 1:2] 0 0 35 0 0 0 17 0 118 154 ...
 - attr(*, &quot;dimnames&quot;)=List of 4
  ..$ Class   : chr [1:4] &quot;1st&quot; &quot;2nd&quot; &quot;3rd&quot; &quot;Crew&quot;
  ..$ Sex     : chr [1:2] &quot;Male&quot; &quot;Female&quot;
  ..$ Age     : chr [1:2] &quot;Child&quot; &quot;Adult&quot;
  ..$ Survived: chr [1:2] &quot;No&quot; &quot;Yes&quot;</code></pre>
<pre class="r"><code>identical(Titanic, as.table(NewTitanic))</code></pre>
<pre><code>[1] TRUE</code></pre>

      </div>
    </article>

    
  





    <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/blog">Writings</a></li>
         
          <li><a href="http://mathaw.cloudrimalaya.com">Blog</a></li>
         
          <li><a href="/photography">Photography</a></li>
         
          <li><a href="/about">About me</a></li>
         
          <li><a href="/cv">Resume</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&text=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&is_video=false&description=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R&body=Check out this article: %2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.stumbleupon.com/submit?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://digg.com/submit?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&title=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-digg fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&name=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R&description=Array%20and%20matrix%2ftables%20are%20data%20structures%20in%20R%20with%20same%20data%20types%20such%20as%20numeric%2c%20string%20or%20boolean.%20This%20examples%20show%20how%20to%20convert%20a%20list%20of%20vector%2fmatrix%2farray%20into%20a%20multi-dimentional%20array%20so%20that%20it%20will%20become%20easier%20to%20aggregate%20them%20in%20particular%20dimension.%20We%20can%20also%20do%20this%20converting%20everything%20into%20data%20frame%20but%20this%20way%20can%20be%20useful%20sometimes%20and%20is%20worth%20learning.%0aLet%20us%20use%20a%20dataset%20already%20available%20in%20R%20and%20convert%20that%20into%20a%20list%20of%20tables%20or%20matrix.">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=%2fblog%2fconvert-list-of-array-matrix-into-an-array-in-r%2f&t=Convert%20list%20of%20array%2fmatrix%20into%20an%20array%20in%20R">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  Mathatistics 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/blog">Writings</a></li>
         
        <li><a href="http://mathaw.cloudrimalaya.com">Blog</a></li>
         
        <li><a href="/photography">Photography</a></li>
         
        <li><a href="/about">About me</a></li>
         
        <li><a href="/cv">Resume</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


    

  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/lib/bootstrap/js/bootstrap.bundle.min.js></script>
<script src=/js/tabset.js></script>
<script src=/js/accordion.js></script>
<script src=/js/main.js></script>




<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>








<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"
  integrity="sha384-t5CR+zwDAROtph0PXGte6ia8heboACF9R5l/DiY+WZ3P2lxNgvJkQk5n7GPvLMYw" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js"
  integrity="sha384-FaFLTlohFghEIZkw6VGwmf9ISTubWAVYW8tG8+w2LAIftJEULZABrF9PPFv+tVkH" crossorigin="anonymous"></script>


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/contrib/auto-render.min.js"
  integrity="sha384-bHBqxz8fokvgoJ/sc17HODNxa42TlaEhB+w8ZJXTc2nZf1VgEaFZeZvT4Mznfz0v" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>


</html>